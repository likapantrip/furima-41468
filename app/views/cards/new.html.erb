<%= render "shared/second-header"%>

<div class='transaction-contents'>
  <div class='form-wrap'>
    <div class='form-header'>
      <h1 class='form-header-text'>
        クレジットカード情報の更新
      </h1>
    </div>

    <%= include_gon %>
    <%= form_with id: 'charge-form', class: 'card-form', model: @card, url: cards_path, local: true do |f| %>
    <%= render "shared/second-error_messages"%>

    <%# カード情報の入力 %>
    <div class="form-group">
      <div class='form-text-wrap'>
        <label class="form-text">カード情報</label>
        <span class="indispensable">必須</span>
      </div>
      <div id="number-form" class="input-default"></div>
      <div class='available-card'>
        <%= image_tag 'card-visa.gif', class: 'card-logo'%>
        <%= image_tag 'card-mastercard.gif', class: 'card-logo'%>
        <%= image_tag 'card-jcb.gif', class: 'card-logo'%>
        <%= image_tag 'card-amex.gif', class: 'card-logo'%>
      </div>
    </div>
    <div class="form-group">
      <div class='form-text-wrap'>
        <label class="form-text">有効期限</label>
        <span class="indispensable">必須</span>
      </div>
      <div class='input-expiration-date-wrap'>
        <div id="expiry-form" class="input-default"></div>
      </div>
    </div>
    <div class="form-group">
      <div class='form-text-wrap'>
        <label class="form-text">セキュリティコード</label>
        <span class="indispensable">必須</span>
      </div>
      <div id="cvc-form" class="input-default"></div>
    </div>
    <%# /カード情報の入力 %>
      
      <div class="form-group"></div>
      <div class='register-btn'>
        <%= f.submit "登録" ,class:"buy-red-btn" %>
        <div class="form-group"></div>
        <div class="sell-btn-contents">
          <%= link_to 'もどる', user_path(current_user.id), class:"back-btn", data: { turbo: false } %>
        </div>
      </div>
    <% end %>

  </div>
</div>

<%= render "shared/second-footer"%>